const turnInJsonAfter = {
    "proeficiencyLevels":{
        "english": {
            "a1": ["Iniciante A1", "imgs/icons/beginner.png"],
            "a2": ["Básico A2", "imgs/icons/beginner.png"],
            "b1": ["Intermediário B1", "imgs/icons/intermediate.png"],
            "b2": ["Intermediário/Avançado B2", "imgs/icons/intermediate.png"],
            "c1": ["Avançado C1", "imgs/icons/advanced.png"],
            "c2": ["Fluente C2", "imgs/icons/advanced.png"]
        },
        "portuguese": {
            "a1" : ["iniciante n1", "imgs/icons/beginner.png"]
        }
    },

    "modules" : { //how to use: modules[languages][proeficiencyLevel][chapterNumber]
        //how to use: modules[languages][proeficiencyLevel][chapterNumber][0] - chaptername
        //how to use: modules[languages][proeficiencyLevel][chapterNumber][1] - images
        //how to use: modules[languages][proeficiencyLevel][chapterNumber][2] - titles
        //how to use: modules[languages][proeficiencyLevel][chapterNumber][3] - descriptions
        "english": {
            "a1": [
              [
                "Capítulo 1: Introdução",
                [
                  "imgs/icons/trilhas/hello.png",
                  "imgs/icons/trilhas/formulating sentences.png",
                  "imgs/icons/trilhas/basic conversation.png",
                  "imgs/icons/trilhas/game time.png",
                  "imgs/icons/trilhas/introduce yourself.png",
                  "imgs/icons/trilhas/refering to someone.png",
                  "imgs/icons/trilhas/vocabulary review.png",
                  "imgs/icons/trilhas/exam.png"
                ],
                [
                  "Hello!",
                  "Formulating sentences",
                  "Basic conversation",
                  "Game time!",
                  "Introduce yourself",
                  "Referring to someone",
                  "Vocabulary review",
                  "Exame Final - Capítulo 1"
                ],
                [
                  "Aprenda o básico, mas o essencial!",
                  "Hora de desenvolver algumas frases!",
                  "\"Que horas são?\"",
                  "Vamos nos divertir enquanto aprendemos!",
                  "Fale um pouco sobre você.",
                  "Aprenda mais sobre os pronomes \"I\" e \"you\".",
                  "Expanda seu repertório de fala!",
                  ""
                ]
              ],
              [
                "Capítulo 2: Diálogo",
                [
                  "imgs/icons/trilhas/developing your communication.png",
                  "imgs/icons/trilhas/Expressing yourself.png",
                  "imgs/icons/trilhas/singular forms of the verb to be.png",
                  "imgs/icons/trilhas/listening polite conversation.png",
                  "imgs/icons/trilhas/preposition of place.png",
                  "imgs/icons/trilhas/describing your hometown.png",
                  "imgs/icons/trilhas/fluency check.png",
                  "imgs/icons/trilhas/exam.png"
                ],
                [
                  "Developing your communication",
                  "Expressing yourself",
                  "Singular forms of the verb \"to be\"",
                  "Listening polite conversation",
                  "Preposition of place",
                  "Describing your hometown",
                  "Fluency check",
                  "Exame final - Capítulo 2"
                ],
                [
                  "Aprenda a falar naturalmente.",
                  "Veja modos de falar e contextos onde podemos usá-las.",
                  "\"I am\", \"You are\".",
                  "Desenvolva a comunicação formal.",
                  "Descreva localizações com \"near\", \"in\" e \"at\".",
                  "Conte-nos sobre sua vizinhança.",
                  "Revise o quanto já aprendeu.",
                  ""
                ]
              ]
            ],
            "a2": [
              [
                "Capítulo 1: Comunicação do Dia a Dia",
                [
                  "imgs/icons/trilhas/hello.png",
                  "imgs/icons/trilhas/formulating sentences.png",
                  "imgs/icons/trilhas/basic conversation.png",
                  "imgs/icons/trilhas/game time.png",
                  "imgs/icons/trilhas/introduce yourself.png",
                  "imgs/icons/trilhas/refering to someone.png",
                  "imgs/icons/trilhas/vocabulary review.png",
                  "imgs/icons/trilhas/exam.png"
                ],
                [
                  "Talking about your daily routine",
                  "Shopping and services",
                  "Making plans and invitations",
                  "Giving directions",
                  "Talking about time and schedules",
                  "Responding to basic questions",
                  "Improving your vocabulary",
                  "Exame final - Capítulo 1"
                ],
                [
                  "Aprenda a descrever seu dia a dia com confiança!",
                  "Saiba pedir ajuda e comprar o que precisa.",
                  "Vamos praticar como convidar e organizar encontros.",
                  "Descubra como ajudar alguém a se localizar.",
                  "Aprenda a perguntar e responder sobre horários e compromissos do dia.",
                  "Pratique como responder perguntas comuns no cotidiano.",
                  "Amplie seu repertório com novas palavras úteis.",
                  ""
                ]
              ],
              [
                "Capítulo 2: Interagindo com o Mundo",
                [
                  "imgs/icons/trilhas/developing your communication.png",
                  "imgs/icons/trilhas/Expressing yourself.png",
                  "imgs/icons/trilhas/singular forms of the verb to be.png",
                  "imgs/icons/trilhas/listening polite conversation.png",
                  "imgs/icons/trilhas/preposition of place.png",
                  "imgs/icons/trilhas/describing your hometown.png",
                  "imgs/icons/trilhas/fluency check.png",
                  "imgs/icons/trilhas/exam.png"
                ],
                [
                  "Describing past experiences",
                  "Talking about your favorite places",
                  "Understanding basic instructions",
                  "Expressing likes and dislikes",
                  "Describing people and objects",
                  "Talking about simple future plans",
                  "Building confidence in conversations",
                  "Exame final - Capítulo 2"
                ],
                [
                  "Fale sobre momentos e histórias do passado!",
                  "Compartilhe detalhes sobre lugares que você gosta.",
                  "Aprenda a seguir e dar instruções simples.",
                  "Diga com clareza o que gosta ou não gosta.",
                  "Pratique como dar detalhes sobre pessoas ou coisas ao seu redor.",
                  "Aprenda a compartilhar o que você pretende fazer.",
                  "Sinta-se mais seguro ao falar com outras pessoas.",
                  ""
                ]
              ]
            ],
            "b1": [
              [
                "Capítulo 1: Conversas Mais Complexas",
                [
                  "imgs/icons/trilhas/hello.png",
                  "imgs/icons/trilhas/formulating sentences.png",
                  "imgs/icons/trilhas/basic conversation.png",
                  "imgs/icons/trilhas/game time.png",
                  "imgs/icons/trilhas/introduce yourself.png",
                  "imgs/icons/trilhas/refering to someone.png",
                  "imgs/icons/trilhas/vocabulary review.png",
                  "imgs/icons/trilhas/exam.png"
                ],
                [
                  "Sharing opinions",
                  "Travel and transportation",
                  "Discussing hobbies and interests",
                  "Talking about health and wellness",
                  "Solving everyday problems",
                  "Comparing options",
                  "Reacting to situations",
                  "Exame final - Capítulo 1"
                ],
                [
                  "Aprenda a expressar o que você pensa!",
                  "Viajar ficou mais fácil: saiba se comunicar em aeroportos e transportes.",
                  "Compartilhe o que você ama fazer no tempo livre.",
                  "Pratique como explicar problemas de saúde básicos.",
                  "Explore situações práticas, como resolver pequenos imprevistos.",
                  "Pratique como comparar coisas, como \"Which one is better?\" ou \"This is more convenient.\"",
                  "Pratique como reagir e responder em diferentes contextos do dia a dia.",
                  ""
                ]
              ],
              [
                "Capítulo 2: Exploração Cultural e Profissional",
                [
                  "imgs/icons/trilhas/developing your communication.png",
                  "imgs/icons/trilhas/Expressing yourself.png",
                  "imgs/icons/trilhas/singular forms of the verb to be.png",
                  "imgs/icons/trilhas/listening polite conversation.png",
                  "imgs/icons/trilhas/preposition of place.png",
                  "imgs/icons/trilhas/describing your hometown.png",
                  "imgs/icons/trilhas/fluency check.png",
                  "imgs/icons/trilhas/exam.png"
                ],
                [
                  "Work and career",
                  "Storytelling techniques",
                  "Cultural traditions",
                  "Handling misunderstandings",
                  "Explaining a process",
                  "Discussing your goal",
                  "Vocabulary for deeper conversations",
                  "Exame final - Capítulo 2"
                ],
                [
                  "Comece a falar sobre suas ambições profissionais!",
                  "Envolva os outros com histórias bem contadas.",
                  "Descubra como falar sobre diferentes costumes e culturas.",
                  "Resolva mal-entendidos em uma conversa.",
                  "Aprenda a descrever o passo a passo de uma tarefa ou ideia.",
                  "Aprenda a falar sobre seus objetivos pessoais e profissionais de maneira clara.",
                  "Expanda seu vocabulário para temas mais complexos.",
                  ""
                ]
              ]
            ],
            "b2": [
              [
                "Capítulo 1: Refinando a Comunicação",
                [
                  "imgs/icons/trilhas/hello.png",
                  "imgs/icons/trilhas/formulating sentences.png",
                  "imgs/icons/trilhas/basic conversation.png",
                  "imgs/icons/trilhas/game time.png",
                  "imgs/icons/trilhas/introduce yourself.png",
                  "imgs/icons/trilhas/refering to someone.png",
                  "imgs/icons/trilhas/vocabulary review.png",
                  "imgs/icons/trilhas/exam.png"
                ],
                [
                  "Debating and persuading",
                  "Advanced travel scenarios",
                  "Expressing emotions in depth",
                  "Exploring culture and art",
                  "Professional discussions",
                  "Handling hypothetical scenarios",
                  "Making recommendations",
                  "Exame final - Capítulo 1"
                ],
                [
                  "Eleve sua comunicação com argumentos fortes!",
                  "Lide com situações inesperadas enquanto viaja.",
                  "Aprenda a descrever sentimentos de forma mais rica.",
                  "Fale sobre filmes, livros e música como um expert.",
                  "Conduza conversas sobre negócios e ideias.",
                  "Explore como lidar com situações hipotéticas, usando frases como \"What if...\" ou \"Suppose that...\".",
                  "Descubra como sugerir algo, como \"I think you should...\" ou \"Why don't we...\".",
                  ""
                ]
              ],
              [
                "Capítulo 2: Domínio de Estruturas e Vocabulário",
                [
                  "imgs/icons/trilhas/developing your communication.png",
                  "imgs/icons/trilhas/Expressing yourself.png",
                  "imgs/icons/trilhas/singular forms of the verb to be.png",
                  "imgs/icons/trilhas/listening polite conversation.png",
                  "imgs/icons/trilhas/preposition of place.png",
                  "imgs/icons/trilhas/describing your hometown.png",
                  "imgs/icons/trilhas/fluency check.png",
                  "imgs/icons/trilhas/exam.png"
                ],
                [
                  "Mastering phrasal verbs",
                  "Complex grammar structures",
                  "Presenting arguments",
                  "Writing emails and formal letters",
                  "Using synonyms and paraphrasing",
                  "Clarifying misunderstandings",
                  "Building fluency with idiomatic expressions",
                  "Exame final - Capítulo 2"
                ],
                [
                  "Domine expressões essenciais para soar natural.",
                  "Vamos simplificar o complicado: prática avançada de gramática.",
                  "Construa e defenda sua opinião de forma clara.",
                  "Aprenda a se comunicar profissionalmente por escrito.",
                  "Aprenda a substituir palavras e reformular frases para melhorar a clareza.",
                  "Pratique como explicar ou corrigir mal-entendidos durante uma conversa.",
                  "Use expressões idiomáticas para enriquecer sua fala.",
                  ""
                ]
              ]
            ],
            "c1": [
                [
                  "Capítulo 1: Excelência na Comunicação",
                  [
                    "imgs/icons/trilhas/hello.png",
                    "imgs/icons/trilhas/formulating sentences.png",
                    "imgs/icons/trilhas/basic conversation.png",
                    "imgs/icons/trilhas/game time.png",
                    "imgs/icons/trilhas/introduce yourself.png",
                    "imgs/icons/trilhas/refering to someone.png",
                    "imgs/icons/trilhas/vocabulary review.png",
                    "imgs/icons/trilhas/exam.png"
                  ],
                  [
                    "Exploring nuanced expressions",
                    "Formal and informal communication",
                    "Handling challenging conversations",
                    "Public speaking and presentations",
                    "Writing with impact",
                    "Explaining complex ideas",
                    "Explaining abstract concepts",
                    "Exame final - Capítulo 1"
                  ],
                  [
                    "Entenda e use expressões idiomáticas como um nativo!",
                    "Ajuste sua fala para diferentes contextos sociais.",
                    "Saiba navegar debates complexos e temas delicados.",
                    "Fale com confiança em público ou reuniões.",
                    "Aprenda a criar textos convincentes e articulados.",
                    "Desenvolva sua habilidade de apresentar ideias ou conceitos difíceis de forma clara.",
                    "Pratique como comunicar ideias abstratas, como felicidade, liberdade ou criatividade.",
                    ""
                  ]
                ],
                [
                  "Capítulo 2: Sofisticação Cultural e Técnica",
                  [
                    "imgs/icons/trilhas/developing your communication.png",
                    "imgs/icons/trilhas/Expressing yourself.png",
                    "imgs/icons/trilhas/singular forms of the verb to be.png",
                    "imgs/icons/trilhas/listening polite conversation.png",
                    "imgs/icons/trilhas/preposition of place.png",
                    "imgs/icons/trilhas/describing your hometown.png",
                    "imgs/icons/trilhas/fluency check.png",
                    "imgs/icons/trilhas/exam.png"
                  ],
                  [
                    "Cultural fluency",
                    "Advanced listening comprehension",
                    "Exploring technical and academic topics",
                    "Perfecting pronunciation and intonation",
                    "Creative writing",
                    "Analyzing different viewpoints",
                    "Discussing cultural differences",
                    "Exame final - Capítulo 2"
                  ],
                  [
                    "Adapte sua linguagem a diferentes culturas e costumes.",
                    "Domine a compreensão de diferentes sotaques e contextos.",
                    "Discuta assuntos técnicos e acadêmicos com fluência.",
                    "Trabalhe nos detalhes para soar impecável.",
                    "Crie histórias e textos originais com estilo e clareza.",
                    "Desenvolva sua habilidade de discutir pontos de vista opostos de forma objetiva.",
                    "Pratique como conversar sobre diferenças culturais com sensibilidade e clareza.",
                    ""
                  ]
                ]
              ],
              "c2": [
                [
                  "Capítulo 1: Domínio Completo",
                  [
                    "imgs/icons/trilhas/hello.png",
                    "imgs/icons/trilhas/formulating sentences.png",
                    "imgs/icons/trilhas/basic conversation.png",
                    "imgs/icons/trilhas/game time.png",
                    "imgs/icons/trilhas/introduce yourself.png",
                    "imgs/icons/trilhas/refering to someone.png",
                    "imgs/icons/trilhas/vocabulary review.png",
                    "imgs/icons/trilhas/exam.png"
                  ],
                  [
                    "Mastering advanced idioms and slang",
                    "Critical thinking and analysis",
                    "Specialized topics",
                    "Handling advanced debates",
                    "Professional writing mastery",
                    "Exploring advanced metaphors and symbolism",
                    "Mastering humor in conversation",
                    "Exame final - Capítulo 1"
                  ],
                  [
                    "Alcance o nível de naturalidade de um falante nativo.",
                    "Expresse opiniões críticas e análises profundas.",
                    "Discuta temas técnicos ou acadêmicos com fluência.",
                    "Mantenha a compostura em debates difíceis.",
                    "Escreva com precisão para qualquer contexto.",
                    "Domine metáforas e símbolos em discussões e textos avançados.",
                    "Pratique como usar humor de forma eficaz e natural em diálogos complexos.",
                    ""
                  ]
                ],
                [
                  "Capítulo 2: Versatilidade Completa",
                  [
                    "imgs/icons/trilhas/developing your communication.png",
                    "imgs/icons/trilhas/Expressing yourself.png",
                    "imgs/icons/trilhas/singular forms of the verb to be.png",
                    "imgs/icons/trilhas/listening polite conversation.png",
                    "imgs/icons/trilhas/preposition of place.png",
                    "imgs/icons/trilhas/describing your hometown.png",
                    "imgs/icons/trilhas/fluency check.png",
                    "imgs/icons/trilhas/exam.png"
                  ],
                  [
                    "Adapting to all audiences",
                    "Improvisation skills",
                    "Exploring philosophical and abstract topics",
                    "Building a personal communication style",
                    "Polishing advanced communication skills",
                    "Revising and perfecting your style",
                    "Handling unexpected questions",
                    "Exame final - Capítulo 2"
                  ],
                  [
                    "Seja claro e eficaz ao falar com qualquer público.",
                    "Responda rapidamente a qualquer situação com naturalidade.",
                    "Mergulhe em ideias profundas e abstratas com confiança.",
                    "Desenvolva um estilo único e marcante ao se expressar.",
                    "Treine como responder perguntas inesperadas com clareza e confiança.",
                    "Aprimore os mínimos detalhes de sua fala e escrita.",
                    "Pratique como revisar e melhorar sua forma de comunicação para atingir a perfeição.",
                    ""
                  ]
                ]
              ]
            }
          }
    }
var url = window.location.href;


var params = url.split("?");
if(params.length>1){
   params= decodeURIComponent(params[1].replace("+", " ")).split("&");
}

var dict = {};


params.forEach(param => {
    if(param.includes("=")){
    dict[param.split("=")[0]] =  param.split("=")[1]; 
    }
});

const flag = document.getElementById("bandeira");
const dropDownFlag = document.getElementById("dropDownFlag");
const courseName = document.getElementById("courseName");
const allKeepLanguage = document.getElementsByClassName("keepLanguage");
const allKeepLevel = document.getElementsByClassName("keepLevel");
const levelNameBox =  document.getElementById("currentLevelName")
const listaNiveis = document.getElementsByClassName("lista-niveis")[0];
const container = document.getElementsByClassName("container")[0];


const LANGUAGES = {
    "english" : ["HELLO!", "Inglês"],
    "spanish" : ["¡HOLA!", "Espanhol"],
    "japanese" : ["こんにちは!", "Japonês"],
    "german" : ["HALLO!", "Alemão"],
    "french" : ["BONJOUR!", "Francês"],
    "chinese" : ["你好!", "Chinês"],
    "korean" : ["안녕하세요!", "Coreano"],
    "italian" : ["CIAO!", "Italiano"],
    "russian" : ["ПРИВЕТ!", "Russo"],
    "portuguese" : ["Olá!", "Português"]
}
const language = dict["language"];
const level = dict["level"].toLowerCase();
var levelNames = turnInJsonAfter["proeficiencyLevels"];

for(i=0; i< allKeepLanguage.length; i++){
    allKeepLanguage[i].href+="?language="+language+"&";
}
for(i=0; i< allKeepLevel.length; i++){
    allKeepLevel[i].href+="level="+level;
}

if(flag != null){
    flag.src= "imgs/flags/"+language+".png"
    
}
//pagina trilhas
if(dropDownFlag!= null){
    //dropdown
    dropDownFlag.src = "imgs/flags/"+language+".png";
    courseName.innerHTML = LANGUAGES[language][1] + " completo"
    levelNameBox.innerHTML = levelNames[language][level][0]
    for(i=0; i< Object.keys(levelNames[language]).length; i++){
        const placeholderLevelLi = document.createElement("li");
        const placeholderLevelA = document.createElement("a");
        const placeholderLevelH1 = document.createElement("h1");
        const placeholderLevelImg = document.createElement("img");

        placeholderLevelA.appendChild(placeholderLevelLi)
        placeholderLevelLi.appendChild(placeholderLevelImg)
        placeholderLevelLi.appendChild(placeholderLevelH1)

        placeholderLevelLi.classList.add("niveis")

        placeholderLevelA.href = "trilhas.html?language="+language+"&level="+Object.keys(levelNames[language])[i];
        placeholderLevelImg.src = Object.values(levelNames[language])[i][1]
        placeholderLevelH1.innerHTML = Object.values(levelNames[language])[i][0];
        
        if(Object.keys(levelNames[language])[i] == level){
            placeholderLevelLi.style.backgroundColor = "#5CDC8F"
        }
        listaNiveis.appendChild(placeholderLevelA)

    }

    //modulos

    for(let i = 0; i <  turnInJsonAfter["modules"][language][level].length; i++){
    const module = document.createElement("div")
    const chapterName = document.createElement("h2")
    module.classList.add("module")
    chapterName.innerHTML=turnInJsonAfter["modules"][language][level][i][0]
    module.appendChild(chapterName)
    for(let j=0; j< turnInJsonAfter["modules"][language][level][i][1].length; j++){
        const lesson = document.createElement("div")
        const arrow = document.createElement("div")
        arrow.classList.add("arrow")
        lesson.classList.add("lesson")
        if(j%2 == 1){
            lesson.classList.add("alignRight")
            arrow.classList.add("alignRight")

        }
        const img = document.createElement("img")
        const title = document.createElement("h3")
        const description = document.createElement("h4")
        img.src = turnInJsonAfter["modules"][language][level][i][1][j]
        title.innerHTML=turnInJsonAfter["modules"][language][level][i][2][j]
        description.innerHTML=turnInJsonAfter["modules"][language][level][i][3][j]
        lesson.appendChild(img)
        lesson.appendChild(title)
        lesson.appendChild(description)








    module.appendChild(lesson)
    if(j != turnInJsonAfter["modules"][language][level][i][1].length-1)
    module.append(arrow)

    }
    container.appendChild(module)
}
}

